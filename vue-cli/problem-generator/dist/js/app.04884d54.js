(function(t){function e(e){for(var r,a,i=e[0],l=e[1],u=e[2],m=0,h=[];m<i.length;m++)a=i[m],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&h.push(s[a][0]),s[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);c&&c(e);while(h.length)h.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,i=1;i<n.length;i++){var l=n[i];0!==s[l]&&(r=!1)}r&&(o.splice(e--,1),t=a(a.s=n[0]))}return t}var r={},s={app:0},o=[];function a(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=r,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var c=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var r=n("85ec"),s=n.n(r);s.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("a026"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("ExerciseView")],1)},o=[],a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-container",{attrs:{absolute:""}},[n("v-card",[n("v-select",{attrs:{items:t.mode_items,"item-text":"title","item-value":"value"},model:{value:t.mode,callback:function(e){t.mode=e},expression:"mode"}})],1),n("div",[n("ProblemParameters",{attrs:{mode:t.mode,root:t.root}}),t._l(t.root.problems.length,(function(e){return[n("div",{key:t.root.gen_key(e),staticClass:"problem_container"},[n("div",{staticClass:"problem_label"},[t._v(" Problem "+t._s(e)+" ")]),n("ExerciseProblem",{key:t.get_problem_key(e),attrs:{mode:t.mode,data:t.root.problems[e-1],rownum:e,root:t.root.get_root()}})],1)]})),t.root.timer_on?n("Clock",{attrs:{time:t.root.work_time}}):t._e(),t.root.pretty_solve_time?n("div",{staticClass:"solve-time"},[t._v(" Solved in "+t._s(t.root.pretty_solve_time)+" seconds. ")]):t._e()],2)],1)],1)},i=[],l=(n("d81d"),n("b64b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-form",[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",md:"2"}},[n("v-text-field",{attrs:{label:"Number of problems",type:"number",required:""},model:{value:t.root.n_problems,callback:function(e){t.$set(t.root,"n_problems",e)},expression:"root.n_problems"}})],1),n("v-col",{attrs:{cols:"12",md:"2"}},[n("v-text-field",{attrs:{label:"Maximum value",type:"number",required:""},model:{value:t.root.max_val,callback:function(e){t.$set(t.root,"max_val",e)},expression:"root.max_val"}})],1),n("v-col",{attrs:{cols:"12",md:"2"}},[n("v-text-field",{attrs:{label:"Number of terms",type:"number",required:""},model:{value:t.root.n_terms,callback:function(e){t.$set(t.root,"n_terms",e)},expression:"root.n_terms"}})],1)],1),n("v-row",[n("v-btn",{on:{click:function(e){return t.root.generate()}}},[t._v("Start")])],1)],1)],1)}),u=[],c={name:"ProblemParameters",props:["root"]},m=c,h=n("2877"),_=n("6544"),d=n.n(_),f=n("8336"),p=n("62ad"),v=n("a523"),b=n("4bd4"),w=n("0fd9"),g=n("8654"),x=Object(h["a"])(m,l,u,!1,null,null,null),y=x.exports;d()(x,{VBtn:f["a"],VCol:p["a"],VContainer:v["a"],VForm:b["a"],VRow:w["a"],VTextField:g["a"]});var k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v(t._s(t.display_time()))])},j=[],O=n("9032"),C=n("d4ec"),E=n("bee2"),q=function(){function t(e,n,r,s){Object(C["a"])(this,t),this.a=e,this.b="-"===this.rand_sign()?-n:n,this.c=r,this.d="-"===this.rand_sign()?-s:s,this.x=new O["Fraction"](0,this.a-this.c,this.d-this.b),this.x.normalize(),console.log("Solution",this.x),console.log("b",this.b)}return Object(E["a"])(t,[{key:"rand_sign",value:function(){return Math.random()>=.5?"-":"+"}}]),t}();function P(t){return Math.floor(Math.random()*t)+1}function S(t){var e=P(t);return e<2&&(e=2),new O["Fraction"](P(t),P(e-1),e)}function $(t){var e=P(t),n=P(t),r=P(t),s=P(t);return n=n==s?n+1:n,e=e==r?e+1:e,new q(e,n,r,s)}function M(){var t=Math.random();return t>=.5?"+":"-"}function F(t,e){var n=t+"";while(n.length<e)n="0"+n;return n}function V(t,e){var n=t,r=n%1e3;n-=r,n/=1e3;var s=n%60;n-=s;var o=n/60,a=F(o,2)+":"+F(s,2);return e&&(a+="."+F(r,3)),a}var D={props:["time"],methods:{display_time:function(){return this.time?V(this.time,!1):"00:00"}}},I=D,T=Object(h["a"])(I,k,j,!1,null,null,null),L=T.exports,A=(n("a15b"),n("d3b7"),n("25f0"),n("5530")),N=n("262e"),X=n("2caf"),z=function(){function t(e){Object(C["a"])(this,t),this.ctx=e,this.user_answer=null}return Object(E["a"])(t,[{key:"update_user_answer",value:function(t){this.user_answer=t,this.ctx.check_answers()}},{key:"answer_is_correct",value:function(){return this.user_answer&&this.answer.obj_equals(this.user_answer)}}]),t}();"undefined"!==typeof exports&&(exports.Problem=z);var B=function(t){Object(N["a"])(n,t);var e=Object(X["a"])(n);function n(t){var r;return Object(C["a"])(this,n),r=e.call(this,t),r.eq=$(t.max_val),r.result={},r.ctx=t,r.user_answer=null,r}return Object(E["a"])(n,[{key:"answer_is_correct",value:function(){return this.user_answer&&this.eq.x.obj_equals(this.user_answer)}}]),n}(z),J=function(t){Object(N["a"])(n,t);var e=Object(X["a"])(n);function n(t){var r;Object(C["a"])(this,n),r=e.call(this,t),r.fracts=[],r.signs=[],r.result={};for(var s=0;s<t.n_terms;s++)r.fracts[s]=S(t.max_val),r.signs[s]=M();return r.compute_answer(),r}return Object(E["a"])(n,[{key:"compute_answer",value:function(){this.answer=new O["Fraction"](0,0,1);for(var t=0;t<this.fracts.length;t++)if("+"==this.signs[t])this.answer.add(this.fracts[t]);else{var e=this.fracts[t].clone();e.neg(),this.answer.add(e)}}}]),n}(z);"undefined"!==typeof exports&&(exports.FracProblem=J);var R={name:"Exercise",data:function(){return{max_val:10,n_problems:10,n_terms:3,props_by_class:{},problems:[],results:[],start_time:null,solve_time:null,timer_on:null,work_time:0,timer_id:0,max_val_length:null,mode:null,problem_lookup:{fract:J,linear:B}}},computed:{pretty_solve_time:function(){return this.solve_time?V(this.solve_time,!0):null}},methods:{get_root:function(){return this},fix_styles_for_class:function(t,e){var n={};for(var r in e)n[r]=e[r]+"px";this.props_by_class[t]=n},get_problem:function(){return new this.problem_lookup[this.mode](this)},generate:function(){var t=this;console.log("generating: mode=",this.mode),this.n_problems=parseInt(this.n_problems),this.fix_styles();for(var e=[],n=[],r=0;r<this.n_problems;r++)e[r]=this.get_problem(),n[r]=!1;this.problems=e,this.results=n,this.start_time=Date.now(),this.solve_time=null,this.timer_on=!0,this.work_time=0,this.reset_timer(),this.timer_id=setInterval((function(){t.work_time=Date.now()-t.start_time}),1e3)},focus_on_row:function(t){var e=this.gen_id("answer-input-"+t+"-whole");console.log("focus el:",e),e&&e.focus()},reset_timer:function(){this.timer_id&&(clearInterval(this.timer_id),this.timer_id=0)},gen_key:function(t){return this.start_time.toString()+"-"+t},gen_id:function(t){return document.getElementById(t)},report_time:function(){this.solve_time=Date.now()-this.start_time},check_answers:function(){for(var t=0,e=0,n=0;n<this.problems.length;n++)this.results[n]=this.problems[n].answer_is_correct(),t+=this.results[n],e+=this.results[n];t==this.problems.length&&(this.report_time(),this.reset_timer(),this.timer_on=!1),console.log("Results",this.results[t-1]),1==this.results[e-1]&&null==this.results[e]&&this.focus_on_row(e+1),console.log("Checking answers",this.results)}}},G=5,H=5,K=0,Q=15,U={mixins:[R],methods:{fix_styles:function(){var t=this.fract_width(),e={width:t},n=Object(A["a"])(Object(A["a"])({},e),{},{left:t+K}),r=Object(A["a"])(Object(A["a"])({},e),{},{left:t});this.fix_styles_for_class("whole_part",e),this.fix_styles_for_class("numerator",n),this.fix_styles_for_class("fract_line",r),this.fix_styles_for_class("denominator",n),this.fix_styles_for_class("fract_w_sign",{width:2*t+K+Q})},get_style:function(t){var e=this.props_by_class[t];if(!e)return"";var n=Object.keys(e).map((function(t){return t+":"+e[t]})).join(";");return console.log("style:",n),n},fract_width:function(){var t=this.max_val.toString().length;return t*G+H},get_focus_on_row_id:function(t){return"answer-input-"+t+"-whole"}}},W={mixins:[R],methods:{get_focus_on_row_id:function(t){return"answer-input-"+t+"-whole"}}},Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",["fract"==t.mode?[n("FractProblem",{attrs:{data:t.data,rownum:t.rownum,root:t.root}})]:t._e(),"linear"==t.mode?[n("LinearEquationProblem",{attrs:{data:t.data,rownum:t.rownum,root:t.root}})]:t._e()],2)},Z=[],tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"problem_table"},[t._l(t.n_fracts,(function(e){return[n("DynamicSpan",{key:t.get_key(e),attrs:{cl:"fract_w_sign",root:t.root,vars:{i:e,data:t.data}}},[n("Fract",{attrs:{root:t.root,data:t.data.fracts[e-1],showsign:e>1||"-"==t.data.signs[e-1],sign:t.data.signs[e-1]}})],1)]})),n("div",{staticClass:"eq"},[t._v("=")]),n("AnswerInput",{key:t.rownum,attrs:{problem:t.data,root:t.root}}),n("CheckMark",{attrs:{problem:t.data}})],2)},et=[],nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.problem.answer_is_correct()?n("div",{staticClass:"checkmark"},[t._v(" âœ“ ")]):t._e()},rt=[],st={props:["problem"]},ot=st,at=Object(h["a"])(ot,nt,rt,!1,null,null,null),it=at.exports,lt={props:["data","root","rownum"],mounted:function(){1==this.rownum&&this.root.focus_on_row(1)},methods:{get_key:function(t){return this.root.startTime+"-"+this.rownum+"-"+t}}},ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{class:t.cl,style:t.get_style()},[t.text?[t._v(t._s(t.text))]:t._e(),t.div_cl?[n("div",{class:t.div_cl})]:t._e(),t._t("default")],2)},ct=[],mt={props:["root","cl","text","div_cl","vars"],name:"DynamicSpan",computed:{v:function(){return this.vars}},methods:{get_style:function(){return this.root.get_style(this.cl)}}},ht=mt,_t=Object(h["a"])(ht,ut,ct,!1,null,null,null),dt=_t.exports,ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"answer_container"},[n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.whole,expression:"whole"}],staticClass:"whole",attrs:{id:t.get_id("whole")},domProps:{value:t.whole},on:{input:[function(e){e.target.composing||(t.whole=e.target.value)},function(e){return t.handle_change()}]}})]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.num,expression:"num"}],staticClass:"numerator",attrs:{id:t.get_id("numerator")},domProps:{value:t.num},on:{input:[function(e){e.target.composing||(t.num=e.target.value)},function(e){return t.handle_change()}]}}),t._m(0),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.denom,expression:"denom"}],staticClass:"denominator",attrs:{id:t.get_id("denominator")},domProps:{value:t.denom},on:{input:[function(e){e.target.composing||(t.denom=e.target.value)},function(e){return t.handle_change()}]}})])])},pt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("hr",{staticClass:"fract_line_answer"})])}],vt={props:["problem"],data:function(){return{num:"",denom:"",whole:"",fract:null}},mounted:function(){this.num=this.denom=this.whole="",console.log("Mounted input",this),console.log("problem:",this.problem)},methods:{handle_change:function(){var t=this.whole,e=this.num,n=this.denom;t||(t=0),"-"==t&&(t=0,e=-e),e||n||(e=0,n=1),t<0&&(e=-e),this.fract=new O["Fraction"](t,e,n),this.problem.update_user_answer(this.fract),console.log("entered fraction:",this.fract)},get_id:function(t){return console.log("vnode:",this.$vnode),"answer-input-"+this.$vnode.key+"-"+t}}},bt=vt,wt=Object(h["a"])(bt,ft,pt,!1,null,null,null),gt=wt.exports,xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.showsign?n("Sign",{attrs:{data:t.sign}}):t._e(),n("div",{staticClass:"fraction"},[n("DynamicSpan",{attrs:{cl:"whole_part",text:t.data.whole,root:t.root}}),n("DynamicSpan",{attrs:{cl:"numerator",text:t.data.numer,root:t.root}}),n("DynamicSpan",{attrs:{cl:"fract_line",div_cl:"fract_line_bar",root:t.root}}),n("DynamicSpan",{attrs:{cl:"denominator",text:t.data.den,root:t.root}})],1)],1)},yt=[],kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sign"},[t._v(t._s(t.data))])},jt=[],Ot={props:["data"]},Ct=Ot,Et=Object(h["a"])(Ct,kt,jt,!1,null,null,null),qt=Et.exports,Pt={props:["data","root","showsign","sign"],components:{DynamicSpan:dt,Sign:qt}},St=Pt,$t=Object(h["a"])(St,xt,yt,!1,null,null,null),Mt=$t.exports,Ft={mixins:[lt],name:"FractProblem",components:{CheckMark:it,DynamicSpan:dt,AnswerInput:gt,Fract:Mt},computed:{n_fracts:function(){return this.data.fracts?this.data.fracts.length:0}}},Vt=Ft,Dt=Object(h["a"])(Vt,tt,et,!1,null,null,null),It=Dt.exports,Tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"problem_table"},[n("LinearEquation",{attrs:{root:t.root,eq:t.data.eq}}),n("span",{staticClass:"x_ans"},[t._v("x =")]),n("AnswerInput",{key:t.rownum,attrs:{problem:t.data}}),n("CheckMark",{attrs:{problem:t.data}})],1)},Lt=[],At=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"equation"},[t._v(t._s(t.eq.a)+" "),n("span",{staticClass:"b"},[n("XTerm",{attrs:{k:t.eq.b}})],1),n("span",{staticClass:"eql"},[t._v("=")]),n("span",{staticClass:"c"},[t._v(t._s(t.eq.c))]),t._v(" "),n("span",{staticClass:"d"},[n("XTerm",{attrs:{k:t.eq.d}})],1)])},Nt=[],Xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"x"},[t._v(t._s(t.display_x))])},zt=[],Bt={props:["k"],name:"XTerm",computed:{display_x:function(){var t=this.k>0?"+":"",e=1!=this.k&&-1!=this.k?this.k:"";return-1==this.k&&(t="-"),t+e.toString()+"x"}}},Jt=Bt,Rt=Object(h["a"])(Jt,Xt,zt,!1,null,null,null),Gt=Rt.exports,Ht={name:"LinearEquation",props:["eq","root"],components:{XTerm:Gt}},Kt=Ht,Qt=Object(h["a"])(Kt,At,Nt,!1,null,null,null),Ut=Qt.exports,Wt={mixins:[lt],name:"LinearEquationProblem",components:{LinearEquation:Ut,CheckMark:it,AnswerInput:gt}},Yt=Wt,Zt=Object(h["a"])(Yt,Tt,Lt,!1,null,null,null),te=Zt.exports,ee={props:["data","root","rownum","mode"],components:{FractProblem:It,LinearEquationProblem:te}},ne=ee,re=Object(h["a"])(ne,Y,Z,!1,null,null,null),se=re.exports,oe={name:"ExerciseView",mixins:[U,W],components:{ProblemParameters:y,Clock:L,ExerciseProblem:se},data:function(){return{modes:{fract:{title:"Imporper Fractions",component:U},linear:{title:"Linear Equations",component:W}},mode:"fract"}},methods:{get_problem_key:function(t){return"problem-"+this.mode+"-"+t}},computed:{root:function(){return this},mode_items:function(){var t=this;return Object.keys(this.modes).map((function(e){return{title:t.modes[e].title,value:e}}))}}},ae=oe,ie=n("7496"),le=n("b0af"),ue=n("b974"),ce=Object(h["a"])(ae,a,i,!1,null,null,null),me=ce.exports;d()(ce,{VApp:ie["a"],VCard:le["a"],VContainer:v["a"],VSelect:ue["a"]});var he={name:"App",components:{ExerciseView:me}},_e=he,de=(n("034f"),Object(h["a"])(_e,s,o,!1,null,null,null)),fe=de.exports,pe=n("f309");r["a"].use(pe["a"]);var ve=new pe["a"]({});r["a"].config.productionTip=!1,new r["a"]({vuetify:ve,render:function(t){return t(fe)}}).$mount("#app")},"85ec":function(t,e,n){},9032:function(t,e,n){n("13d5");var r=n("970b"),s=n("5bc3"),o=function(){"use strict";function t(e,n,s){r(this,t),this.whole=e,this.numer=n,this.den=s}return s(t,[{key:"extract_whole",value:function(){var t=~~(this.numer/this.den);this.whole+=t,this.numer-=t*this.den,this.den<0&&(this.numer=-this.numer,this.den=-this.den),this.whole>0&&this.numer<0?(this.whole--,this.numer+=this.den):this.whole<0&&this.numer>0&&(this.numer-=this.den,this.whole++)}},{key:"reduce",value:function(){var t=function t(e,n){return n?t(n,e%n):e},e=t(Math.abs(this.numer),Math.abs(this.den));this.numer/=e,this.den/=e}},{key:"add",value:function(t){this.whole+=t.whole,this.numer=this.numer*t.den+t.numer*this.den,this.den=this.den*t.den,this.extract_whole(),this.reduce()}},{key:"neg",value:function(){this.whole=-this.whole,this.numer=-this.numer}},{key:"equals",value:function(t,e,n){return this.whole==t&&this.numer==e&&this.den==n}},{key:"obj_equals",value:function(t){return this.equals(t.whole,t.numer,t.den)}},{key:"clone",value:function(){return new t(this.whole,this.numer,this.den)}},{key:"normalize",value:function(){this.extract_whole(),this.reduce()}}]),t}();e.Fraction=o}});
//# sourceMappingURL=app.04884d54.js.map